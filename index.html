<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <title>CHINESE OPEN SCIENCE NETWORK</title>
  <!-- MDB icon -->
  <link rel="icon" href="img/mdb-favicon.ico" type="image/x-icon">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.11.2/css/all.css">
  <!-- Google Fonts Roboto -->
  <!-- <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap"> -->
  <link rel="stylesheet" href="css/google_fonts.css">
  <!-- Bootstrap core CSS -->
  <link rel="stylesheet" href="css/bootstrap.min.css">
  <!-- Material Design Bootstrap -->
  <link rel="stylesheet" href="css/mdb.min.css">
  <!-- Your custom styles (optional) -->
  <link rel="stylesheet" href="css/style.css">
  <!-- Custom styles -->
  <style>
    .avatar{
      width: 150px;
      height: 150px;
    }
  </style>
</head>
<body>
<header>

  <nav class="navbar navbar-expand-lg navbar-dark primary-color mb-4">
    <a class="navbar-brand" href="#"><strong>Chinese Open Science Network</strong></a>
    <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
      aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav mr-auto">
        <li class="nav-item active">
          <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="events.html">Events</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Chinese-Open-Science-Network/site/issues">Articles</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="#Members">About us</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/Chinese-Open-Science-Network/site/labels/Resources">Resources</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="positions.html">Positions</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="gathering.html">Gathering</a>
        </li>

      </ul>
      <ul class="navbar-nav nav-flex-icons">
        <li class="nav-item">
          <a class="nav-link"><i class="fab fa-github"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fab fa-twitter"></i></a>
        </li>
        <li class="nav-item">
          <a class="nav-link"><i class="fab fa-youtube"></i></a>
        </li>
      </ul>
    </div>
  </nav>

</header>

<div class="container">
  <div class="row">
    <div class="col-md-8">
      <div class="row mr-1">
        <div class="jumbotron">
            <h2 class="h1-responsive">Chinese Open Science Network</h2>
            <p class="lead">The Transcontinental Computational Psychiatry Workgroup (TCPW) organizes a monthly web-based meeting and a computational psychiatry satellite meeting with the Society of Biological Psychiatry. </p>
            <hr class="my-2">
            <h5>You should know...</h5>
            <p>We hope to foster discussion and exchange between those involved in computational psychiatry—a rapidly growing, highly multidisciplinary field.
            </p>
            <a class="btn btn-primary btn-lg" role="button">Learn more</a>
            <a class="btn btn-primary btn-lg" role="button">About us</a>
        </div>
      </div>

      <div class="row mr-1">
        <div class="card mb-4">
          <div class="card-body latest_article0">
            <h5 class="card-subtitle mb-2 text-muted">Latest Article</h5>
            <h4 class="card-title">Latest Article</h4>
            <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
            <button type="button" class="btn btn-outline-primary btn-md"><a href=''>Read more</a></button>
          </div>
        </div>
      </div>

      <div class="row  mr-1">
        <!-- Card deck -->
        <div class="card-deck">

          <!-- Card -->
          <div class="card mb-4">

            <!--Card content-->
            <div class="card-body latest_article1">

              <!--Title-->
              <h4 class="card-title">Article 2</h4>
              <!--Text-->
              <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
              <a href="#!" class="card-link">Read more</a>
              <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
              <!-- <button type="button" class="btn btn-outline-primary btn-md"><a href=''>Read more</a></button> -->

            </div>

          </div>
          <!-- Card -->

          <!-- Card -->
          <div class="card mb-4 ">

            <!--Card content-->
            <div class="card-body latest_article2">

              <!--Title-->
              <h4 class="card-title">Article 3</h4>
              <!--Text-->
              <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat. </p>
              <a href="#!" class="card-link">Read more</a>
              <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
              <!-- <button type="button" class="btn btn-outline-primary btn-md">Read more</button> -->

            </div>

          </div>
          <!-- Card -->

          <!-- Card -->
          <div class="card mb-4">

            <!--Card content-->
            <div class="card-body d-flex align-items-center text-center">
              <h4 class="card-title font-weight-bolder"><a href="https://github.com/Chinese-Open-Science-Network/site/issues">More articles</a></h4>
              <!-- <>More articles -->
              <!-- Provides extra visual weight and identifies the primary action in a set of buttons -->
              <!-- <button type="button" class="btn btn-outline-primary btn-lg">More articles</button> -->

            </div>

          </div>
          <!-- Card -->

        </div>
        <!-- Card deck -->
      </div>
    </div>

    <div class="col-md-4 ">
      <div class="card mb-4" id='Events'>
        <div class="card-header primary-color white-text">
          Forthcoming Events
        </div>
        <div class="list-group ">
          <a href="events.html" class="list-group-item list-group-item-action flex-column align-items-start">
            <p class="mb-2"></p>
            <small class="text-muted"></small>
          </a>
          <a href="events.html" class="list-group-item list-group-item-action flex-column align-items-start">
            <p class="mb-2"></p>
            <small class="text-muted"></small>
          </a>
          <a href="events.html" class="list-group-item list-group-item-action flex-column align-items-start">
            <p class="mb-2"></p>
            <small class="text-muted"></small>
          </a>
        </div>
      </div>

      <ul class="nav nav-tabs font-weight-bold" id="myTab" role="tablist">
        <li class="nav-item">
          <a class="nav-link active" id="positions-tab" data-toggle="tab" href="#positions" role="tab" aria-controls="positions"
            aria-selected="true">Positions</a>
        </li>
        <li class="nav-item">
          <a class="nav-link" id="gathering-tab" data-toggle="tab" href="#gathering" role="tab" aria-controls="gathering"
            aria-selected="false">Gathering</a>
        </li>
      </ul>
      <div class="tab-content">
        <div class="tab-pane fade show active" id="positions" role="tabpanel" aria-labelledby="positions-tab">
          <div class="list-group">
            <a href="positions.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            <a href="positions.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            <a href="positions.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            <a href="positions.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            
          </div>
        </div>
        <div class="tab-pane fade" id="gathering" role="tabpanel" aria-labelledby="gathering-tab">
          <a href="gathering.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            <a href="gathering.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            <a href="gathering.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            <a href="gathering.html" class="list-group-item list-group-item-action flex-column align-items-start">
              <div class="d-flex w-100 justify-content-between">
                <h6 class="mb-2 h6"></h6>
                <small></small>
              </div>
              <p class="mb-2"></p>
            </a>
            
          </div>
        </div>
      </div>      
    </div>
  </div>

<h4 class="text-center" id='Members'>Executive Committees</h4>
<hr>
<!-- Card deck -->
<div class="card-deck">

  <!-- Card -->
  <div class="card mb-4">

    <!--Card image-->
    <div class="view overlay">
      <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/16.jpg"
        alt="Card image cap">
      <a href="#!">
        <div class="mask rgba-white-slight"></div>
      </a>
    </div>

    <!--Card content-->
    <div class="card-body">

      <!--Title-->
      <h4 class="card-title">Card title</h4>
      <!--Text-->
      <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
        content.</p>

    </div>

  </div>
  <!-- Card -->

  <!-- Card -->
  <div class="card mb-4">

    <!--Card image-->
    <div class="view overlay">
      <img class="img-fluid z-depth-1 rounded-circle mx-auto mt-3 avatar" src="img/jinbiaoyang.jpg"
        alt="Card image cap">
      <a href="#!">
        <div class="mask rgba-white-slight"></div>
      </a>
    </div>

    <!--Card content-->
    <div class="card-body  text-center">

      <!--Title-->
      <h4 class="card-title"><strong>Jinbiao Yang</strong></h4>
      <hr><!-- Subtitle -->
      <p class="card-text text-primary "><strong class="text-primary">MPI for Psycholinguistics</strong></p>
      <p class="card-text">A lazy PhD Student. <a href="https://github.com/ray306"><i class="fab fa-github"></i></a></p>

    </div>

  </div>
  <!-- Card -->

  <!-- Card -->
  <div class="card mb-4">

    <!--Card image-->
    <div class="view overlay">
      <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/15.jpg"
        alt="Card image cap">
      <a href="#!">
        <div class="mask rgba-white-slight"></div>
      </a>
    </div>

    <!--Card content-->
    <div class="card-body">

      <!--Title-->
      <h4 class="card-title">Card title</h4>
      <!--Text-->
      <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
        content.</p>

    </div>

  </div>
  <!-- Card -->

  <!-- Card -->
  <div class="card mb-4">

    <!--Card image-->
    <div class="view overlay">
      <img class="card-img-top" src="https://mdbootstrap.com/img/Photos/Others/images/15.jpg"
        alt="Card image cap">
      <a href="#!">
        <div class="mask rgba-white-slight"></div>
      </a>
    </div>

    <!--Card content-->
    <div class="card-body">

      <!--Title-->
      <h4 class="card-title">Card title</h4>
      <!--Text-->
      <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's
        content.</p>

    </div>

  </div>
  <!-- Card -->

</div>
<!-- Card deck -->

</div>

<!-- Footer -->
<footer class="page-footer font-small blue pt-4 primary-color">

  <!-- Footer Links -->
  <div class="container-fluid text-center text-md-left">

    <!-- Grid row -->
    <div class="row">

      <!-- Grid column -->
      <div class="col-md-6 mt-md-0 mt-3">

        <!-- Content -->
        <h5 class="text-uppercase">CHINESE OPEN SCIENCE</h5>
        <p>We hope to foster discussion and exchange between those involved in computational psychiatry—a rapidly growing, highly multidisciplinary field.</p>

      </div>
      <!-- Grid column -->

      <hr class="clearfix w-100 d-md-none pb-3">

      <!-- Grid column -->
      <div class="col-md-3 mb-md-0 mb-3">

        <!-- Links -->
        <h5 class="text-uppercase">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

      <!-- Grid column -->
      <div class="col-md-3 mb-md-0 mb-3">

        <!-- Links -->
        <h5 class="text-uppercase">Links</h5>

        <ul class="list-unstyled">
          <li>
            <a href="#!">Link 1</a>
          </li>
          <li>
            <a href="#!">Link 2</a>
          </li>
          <li>
            <a href="#!">Link 3</a>
          </li>
          <li>
            <a href="#!">Link 4</a>
          </li>
        </ul>

      </div>
      <!-- Grid column -->

    </div>
    <!-- Grid row -->

  </div>
  <!-- Footer Links -->

  <!-- Copyright -->
  <div class="footer-copyright text-center py-3">© 2020 Copyright:
      <a href="https://mdbootstrap.com/education/bootstrap/" target="_blank"> MDBootstrap.com </a> </br>Designed by: <a href="https://github.com/ray306" target="_blank">Jinbiao Yang</a> @ Chinese Open Science</a>
  </div>
  <!-- Copyright -->

</footer>
<!-- Footer -->

  <!-- jQuery -->
  <script type="text/javascript" src="js/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="js/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="js/mdb.min.js"></script>

  <script type="text/javascript" src="js/airtable.browser.js"></script>

  <script>
  fetch('https://api.github.com/repos/Chinese-Open-Science-Network/site/issues')
      .then(res => res.json())
      .then((out) => {
        $('.latest_article0 h4').text(out[0]['title']);
        $('.latest_article0 p').text(out[0]['body'].slice(0,300) + '...');
        $('.latest_article0 a').attr('href', out[0]['html_url']);
        $('.latest_article1 h4').text(out[1]['title']);
        $('.latest_article1 p').text(out[1]['body'].slice(0,150) + '...');
        $('.latest_article1 a').attr('href', out[2]['html_url']);
        $('.latest_article2 h4').text(out[2]['title']);
        $('.latest_article2 p').text(out[2]['body'].slice(0,150) + '...');
        $('.latest_article2 a').attr('href', out[2]['html_url']);
  }).catch(err => console.error(err));

  // Positions
  var Airtable = require('airtable');
  var base = new Airtable({apiKey: 'keyH8BSM9AqwRF3ci'}).base('app8DGX3kOX4zctv3');

  base('Table 1').select({
      maxRecords: 4,
      view: "Grid view"
  }).eachPage(function page(records, fetchNextPage) {
      $("#positions .list-group a").each(function(index) {
          $(this).find("h6").text(records[index].get('Lab'));
          $(this).find("small").text(records[index].get('Created'));
          $(this).find("p").text(records[index].get('Detail').slice(0,150) + '...');
          $(this).attr('href', records[index].get('URL'));
        });
  }, function done(err) {
      if (err) { console.error(err); return; }
  });

  // Events
  var base = new Airtable({apiKey: 'keyH8BSM9AqwRF3ci'}).base('appHcqdzInQBWW8qr');

  base('Table 1').select({
      maxRecords: 3,
      view: "Grid view"
  }).eachPage(function page(records, fetchNextPage) {
      $("#Events .list-group a").each(function(index) {
          $(this).find("p").text(records[index].get('Title'));
          $(this).find("small").text(records[index].get('Speaker')+'  '+records[index].get('Date').slice(0,10)+' '+records[index].get('Date').slice(11,16));
          // $(this).attr('href', records[index].get('URL'));
        });
  }, function done(err) {
      if (err) { console.error(err); return; }
  });
  </script>

</body>
</html>
